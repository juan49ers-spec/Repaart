
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Users/Usuario/.gemini/antigravity/playground/synthetic-sagan[39m

 [31mÃ”Ã˜Â»[39m src/services/fleetService.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 11[2mms[22m[39m
       [32mÃ”Â£Ã´[39m should map legacy snake_case fields correctly[32m 2[2mms[22m[39m
       [32mÃ”Â£Ã´[39m should map new CamelCase fields correctly[32m 0[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m should trigger maintenance status and notification when km limit reached[39m[32m 7[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 1 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  src/services/fleetService.test.ts > FleetService > updateVehicle Maintenance Logic > should trigger maintenance status and notification when km limit reached
AssertionError: expected "vi.fn()" to be called with arguments: [ Anything, ObjectContaining{Ã”Ã‡Âª} ]

Received: 

  1st vi.fn() call:

  [
-   Anything,
-   ObjectContaining {
+   undefined,
+   {
      "currentKm": 5001,
      "status": "maintenance",
+     "updatedAt": {
+       "type": "timestamp",
+     },
    },
  ]


Number of calls: 1

 Ã”Ã˜Â» src/services/fleetService.test.ts:124:31
    122|             await fleetService.updateVehicle('veh_1', updates);
    123| 
    124|             expect(updateDoc).toHaveBeenCalledWith(
       |                               ^
    125|                 expect.anything(),
    126|                 expect.objectContaining({


Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/1]Ã”Ã„Â»

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (3)[39m
[2m   Start at [22m 00:12:58
[2m   Duration [22m 1.32s[2m (transform 97ms, setup 130ms, import 137ms, tests 11ms, environment 814ms)[22m

